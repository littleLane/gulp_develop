![](/assets/import.png)

正如上图所示，我们将整个系统分为功能模块系统和公共插件包两个部分。公共插件包是支持功能模块系统的，而各个功能模块系统又是独立存在的，所以有功能模块系统分离，公共插件包支撑功能模块系统的运行。

功能模块系统是单个的项目系统，虽然现阶段只有商户protal这个系统，可能后续会加入风控、清结算等等系统，这样系统之间是孤立的存在，不会有牵连。系统的目录结构是一样的，目前分为三大目录环境：

A、Src目录是源码目录，开发人员在该目录下对代码进行修改和整理，这里就是开发人员实际操作的目录。

B、Build目录是开发环境目录，里面的代码是通过将Src源码目录里面的代码进行初次编译和处理得到的，我们在浏览器里面看到的效果就是链接到这个目录产生的。也就是开发时看到的是这个目录的代码效果，而实际编码的是Src目录里面的代码。

C、Dist目录是线上环境目录，这里的代码是Src源码目录里面的代码通过深层编译和处理（包括压缩，合并等）后得到的，在正式上线时，我们在线上环境部署该目录下面的代码。

各目录环境下的代码目录有所差别，Build目录和Dist目录下的结构基本是一样的，而Src源码目录下的结构包含了一个工具目录包如Less目录，这些工具包在Build目录和Dist目录下会被替换或者处理掉。各级目录结构如下

![](/assets/import1.png)

公共插件包里面同样也分为几大块，包括gulp插件安装目录、Plugins包、gulp自动化配置文件、gulp环境依赖包文件、系统ReadMe文件。他们各司其职，处理不同的任务，起到了不同的作用。由于开发的环境是基于Node的，对于对Node开发熟悉的人员，环境所需的几个配置文件是很熟悉的。

A、gulp插件安装目录（node\_modules）里面包括了开发时，我们通过Node环境安装的gulp自动化环境配置所需的插件，通过npm 包管理工具进行安装。

B、Plugins包里面包括在开发过程中需要的第三方插件包。里面的目录结构以单个的插件包为基础，在插件包里面包括所使用版本的插件文件。结构目录如下：

![](/assets/import3.png)

C、gulp自动化配置文件（gulpfile.js）是一个单独的配置文件，里面代码从上至下依次结构为：

a\)gulp环境所需插件包的引入

b\)项目环境目录结构常量的定义

c\)各文件处理的gulp任务的定义

d\)BrowserSync浏览器实时刷新服务的定义

e\)Gulp总线任务的定义

D、gulp环境依赖包文件（package.json），一个npm安装包的安装配置文件，里面配置了gulp自动化环境配置所需的插件包的名字和版本信息。

E、系统ReadMe文件（ReadMe.md）对系统开发时的环境和注意事项作了简要的说明，具体还是参照该文档。

